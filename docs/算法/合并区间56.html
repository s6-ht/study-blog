<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      let intervals = [
        [1, 3],
        [2, 6],
        [8, 10],
        [15, 18],
      ]
      var merge = function(intervals) {
        if (!intervals.length) return intervals
        intervals.sort((a, b) => {
          return a[0] !== b[0] ? a[0] - b[0] : a[1] - b[1]
        })
        let cur = intervals[0]
        let res = [cur]

        for (let i = 1; i < intervals.length; i++) {
          if (intervals[i][0] <= cur[1]) {
            cur[1] = Math.max(intervals[i][1], cur[1])
          } else {
            res.push(intervals[i])
            cur = intervals[i]
          }
        }
        console.log(res)
        return res
      }

      merge(intervals)
    </script>
  </body>
</html>
